"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{5055:(e,t,s)=>{s.d(t,{BK:()=>i,eu:()=>o});var a=s(5155),l=s(2115),r=s(4920),n=s(1567);let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});o.displayName=r.bL.displayName;let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",s),...l})});i.displayName=r._V.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})}).displayName=r.H4.displayName},3312:(e,t,s)=>{s.d(t,{$:()=>d});var a=s(5155),l=s(2115),r=s(2317),n=s(1027),o=s(1567);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:s,variant:l,size:n,asChild:d=!1,...c}=e,f=d?r.DX:"button";return(0,a.jsx)(f,{className:(0,o.cn)(i({variant:l,size:n,className:s})),ref:t,...c})});d.displayName="Button"},9749:(e,t,s)=>{s.d(t,{BT:()=>i,Wu:()=>d,Zp:()=>n,aR:()=>o,wL:()=>c});var a=s(5155),l=s(2115),r=s(1567);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...l})});n.displayName="Card";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex space-y-1.5 p-6",s),...l})});o.displayName="CardHeader",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("font-semibold leading-none tracking-tight",s),...l})}).displayName="CardTitle";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});i.displayName="CardDescription";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});d.displayName="CardContent";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})});c.displayName="CardFooter"},9492:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(5155),l=s(3312),r=s(7684),n=s(6507),o=s(853),i=s(3250),d=s(7396),c=s(2115),f=s(9009);let u=()=>{let[e,t]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let e=localStorage.getItem("accessToken");e&&t((0,r.s)(e).userId)},[]),(0,a.jsxs)("div",{className:"w-screen fixed bottom-0 left-0 bg-black",children:[(0,a.jsx)(d.default,{className:"w-1/4 bg-black",href:"/posts",children:(0,a.jsx)(l.$,{className:"w-1/4 bg-black text-xl",children:(0,a.jsx)(n.A,{})})}),(0,a.jsx)(d.default,{className:"w-1/4 bg-black",href:"/search",children:(0,a.jsx)(l.$,{className:"w-1/4 bg-black",children:(0,a.jsx)(o.A,{})})}),(0,a.jsx)(d.default,{href:"/uploadPost",className:"w-1/4 bg-black",children:(0,a.jsx)(l.$,{className:"w-1/4 bg-black text-xl",children:(0,a.jsx)(f.A,{})})}),e&&(0,a.jsx)(d.default,{className:"w-1/4 bg-black",href:"/profile/".concat(e),children:(0,a.jsx)(l.$,{className:"w-1/4 bg-black text-xl",children:(0,a.jsx)(i.A,{})})})]})}},2863:(e,t,s)=>{s.d(t,{I:()=>g});var a=s(5155),l=s(9749),r=s(2115),n=s(2576),o=s(7364),i=s(9053),d=s(1567),c=s(3312);let f=r.createContext(null);function u(){let e=r.useContext(f);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let m=r.forwardRef((e,t)=>{let{orientation:s="horizontal",opts:l,setApi:o,plugins:i,className:c,children:u,...m}=e,[x,h]=(0,n.A)({...l,axis:"horizontal"===s?"x":"y"},i),[p,g]=r.useState(!1),[j,b]=r.useState(!1),N=r.useCallback(e=>{e&&(g(e.canScrollPrev()),b(e.canScrollNext()))},[]),v=r.useCallback(()=>{null==h||h.scrollPrev()},[h]),w=r.useCallback(()=>{null==h||h.scrollNext()},[h]),y=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),w())},[v,w]);return r.useEffect(()=>{h&&o&&o(h)},[h,o]),r.useEffect(()=>{if(h)return N(h),h.on("reInit",N),h.on("select",N),()=>{null==h||h.off("select",N)}},[h,N]),(0,a.jsx)(f.Provider,{value:{carouselRef:x,api:h,opts:l,orientation:s||((null==l?void 0:l.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:w,canScrollPrev:p,canScrollNext:j},children:(0,a.jsx)("div",{ref:t,onKeyDownCapture:y,className:(0,d.cn)("relative",c),role:"region","aria-roledescription":"carousel",...m,children:u})})});m.displayName="Carousel";let x=r.forwardRef((e,t)=>{let{className:s,...l}=e,{carouselRef:r,orientation:n}=u();return(0,a.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,a.jsx)("div",{ref:t,className:(0,d.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",s),...l})})});x.displayName="CarouselContent";let h=r.forwardRef((e,t)=>{let{className:s,...l}=e,{orientation:r}=u();return(0,a.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,d.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",s),...l})});h.displayName="CarouselItem",r.forwardRef((e,t)=>{let{className:s,variant:l="outline",size:r="icon",...n}=e,{orientation:i,scrollPrev:f,canScrollPrev:m}=u();return(0,a.jsxs)(c.$,{ref:t,variant:l,size:r,className:(0,d.cn)("absolute  h-8 w-8 rounded-full","horizontal"===i?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!m,onClick:f,...n,children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",r.forwardRef((e,t)=>{let{className:s,variant:l="outline",size:r="icon",...n}=e,{orientation:o,scrollNext:f,canScrollNext:m}=u();return(0,a.jsxs)(c.$,{ref:t,variant:l,size:r,className:(0,d.cn)("absolute h-8 w-8 rounded-full","horizontal"===o?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!m,onClick:f,...n,children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext";var p=s(5565);let g=e=>{let{postImage:t,post:s}=e;return(0,a.jsx)(l.Wu,{className:"flex justify-center ",children:(0,a.jsx)(m,{children:(0,a.jsx)(x,{children:(0,a.jsxs)(h,{children:[" ",(null==s?void 0:s.postImg)?(0,a.jsx)(p.default,{src:t,alt:"Post Image",priority:!0,width:500,height:500}):null]})})})})}},6326:(e,t,s)=>{s.d(t,{o:()=>C});var a=s(5155),l=s(9749),r=s(7684),n=s(591),o=s(2115);let i=e=>{let{token:t,likedUsers:s,postId:l}=e,[i,d]=(0,o.useState)(!1),c=(0,r.s)(null!=t?t:"").userId,f=(0,o.useCallback)(async()=>{null==s||s.map(e=>{e._id==c&&d(!0)})},[s,c]);(0,o.useEffect)(()=>{f()},[f]);let u=e=>{if(i){d(!1);let t=localStorage.getItem("accessToken");fetch("https://instagram-backend-e3eq.onrender.com/like/disLike",{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({postId:e})})}else{d(!0);let t=localStorage.getItem("accessToken");fetch("https://instagram-backend-e3eq.onrender.com/like/likedPost",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({postId:e})})}},m=(0,o.useCallback)(async()=>{await fetch("https://instagram-backend-e3eq.onrender.com/post/getPosts",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})},[t]);return(0,o.useEffect)(()=>{m()},[m]),(0,a.jsx)("div",{children:i?(0,a.jsx)("button",{onClick:()=>u(null!=l?l:""),children:(0,a.jsx)(n.A,{fill:"red",className:"text-red-600"})}):(0,a.jsx)("button",{onClick:()=>u(null!=l?l:""),children:(0,a.jsx)(n.A,{fill:"black",className:"text-white"})})})};var d=s(9271),c=s(8283),f=s(2929),u=s(5055),m=s(7129),x=s(767),h=s(1567);let p=m.bL,g=m.l9,j=m.ZL;m.bm;let b=o.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(m.hJ,{ref:t,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});b.displayName=m.hJ.displayName;let N=o.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,a.jsxs)(j,{children:[(0,a.jsx)(b,{}),(0,a.jsxs)(m.UC,{ref:t,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[l,(0,a.jsxs)(m.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});N.displayName=m.UC.displayName;let v=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};v.displayName="DialogHeader";let w=o.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(m.hE,{ref:t,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});w.displayName=m.hE.displayName,o.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(m.VY,{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",s),...l})}).displayName=m.VY.displayName;let y=e=>{let{likedUsers:t}=e;return(0,a.jsxs)(p,{children:[(0,a.jsx)(g,{className:"bg-black border-none flex justify-start",children:t&&t.length>0?(0,a.jsxs)("div",{className:"text-white text-sm font-sans font-bold",children:[null==t?void 0:t.length," likes"]}):null}),(0,a.jsx)(N,{className:"bg-black text-white w-3/4",children:(0,a.jsxs)(v,{children:[(0,a.jsx)(w,{className:"text-white border-b-2 border-gray-500 w-full",children:"Likes"}),null==t?void 0:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.eu,{children:e.proImg?(0,a.jsx)(u.BK,{src:e.proImg}):(0,a.jsx)(u.BK,{src:"https://static.vecteezy.com/system/resources/thumbnails/009/292/244/small/default-avatar-icon-of-social-media-user-vector.jpg"})}),(0,a.jsx)("div",{className:"flex flex-col justify-center",children:(0,a.jsx)("div",{className:"text-white text-lg font-sans font-bold",children:e.username})})]},e._id))]})})]})};var k=s(7396);let C=e=>{let{likedUsers:t,postId:s,postComments:r,postCaption:n,username:o}=e;return(0,a.jsxs)(l.wL,{className:"space-y-2 flex flex-col items-start",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"full"},className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i,{token:localStorage.getItem("accessToken"),likedUsers:t,postId:s}),(0,a.jsx)(k.default,{href:"/posts/".concat(s),children:(0,a.jsx)(d.A,{className:"text-white"})}),(0,a.jsx)(c.A,{className:"text-white"})]}),(0,a.jsx)("div",{children:(0,a.jsx)(f.A,{className:"text-white"})})]}),(0,a.jsx)(y,{likedUsers:t}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"text-white font-semibold",children:o}),(0,a.jsx)("p",{className:"text-white",children:n})]}),r&&r.length>0?(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)(k.default,{className:"text-white text-sm font-sans font-bold",href:"/posts/".concat(s),children:["View all ",null==r?void 0:r.length," comments"]})}):null]})}},9108:(e,t,s)=>{s.d(t,{I:()=>o});var a=s(5155),l=s(5055),r=s(9749),n=s(7396);let o=e=>{let{proImage:t,username:s,userId:o}=e;return(0,a.jsxs)(r.aR,{className:"flex items-center gap-4",children:[null==t?(0,a.jsx)(l.eu,{children:(0,a.jsx)(l.BK,{src:"https://static.vecteezy.com/system/resources/thumbnails/009/292/244/small/default-avatar-icon-of-social-media-user-vector.jpg"})}):(0,a.jsx)(l.eu,{children:(0,a.jsx)(l.BK,{src:t})}),(0,a.jsx)(n.default,{className:"text-white text-lg font-sans font-bold",href:"/posts/user/".concat(o),children:s})]})}},1567:(e,t,s)=>{s.d(t,{cn:()=>r});var a=s(3463),l=s(9795);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,a.$)(t))}}}]);